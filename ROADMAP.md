# OOPStracker Roadmap (Simplified)

## Project Overview

**OOPStracker** は、AIエージェントが同じコードを繰り返し生成することを防ぐためのシンプルなライブラリです。SHA-256ハッシュベースの完全一致検出に特化し、最低限の機能で実用的な重複検出を提供します。

## 🎯 プロジェクトスコープ

**実装する機能（シンプルに保つ）:**
- ✅ SHA-256ハッシュによる完全一致検出のみ
- ✅ コメント除去・空白正規化
- ✅ シンプルなSQLiteストレージ
- ✅ Code-Smithからの簡単な呼び出しAPI

**実装しない機能:**
- ❌ SimHash（ファジーマッチング）
- ❌ BK-tree（高度な検索）
- ❌ 機械学習ベースの類似性検出
- ❌ 多言語サポート
- ❌ 分散システム対応

## Current Status (2025年1月時点)

### 既に動作している機能
- ✅ SHA-256ハッシュによる完全一致検出
- ✅ コメント除去・空白正規化
- ✅ SQLiteデータベース統合
- ✅ 基本的なCLI
- ✅ パフォーマンス: 良好（100件で0.038秒）

### 必要な作業
- 🔧 Code-Smithとの統合インターフェース作成
- 🔧 不要な複雑な機能の削除
- 🔧 ドキュメントの簡素化

## Phase 1: 最小限の実装 (v0.1.0) ✅ DONE

現在のSHA-256ベースの実装で十分動作しています。

## Phase 2: Code-Smith統合 (v0.2.0) 🎯 CURRENT

### やること（1週間以内）
1. **シンプルな統合インターフェース作成**
   ```python
   # main.pyに追加
   from oopstracker import CodeMemory
   
   class CodeSmithTracker:
       def __init__(self):
           self.memory = CodeMemory()
       
       def check_duplicate(self, code: str) -> bool:
           return self.memory.is_duplicate(code).is_duplicate
       
       def register_code(self, code: str, context: dict):
           self.memory.register(code, **context)
   ```

2. **不要なコードの削除**
   - SimHash関連コードの削除
   - BK-tree関連コードの削除
   - 複雑なAPI機能の削除

3. **最小限のドキュメント**
   - 基本的な使い方のREADME
   - Code-Smithとの統合例

## Phase 3: 実運用での改善 (v0.3.0) 

### 実際に使ってみてから検討
- Code-Smithでの実運用フィードバック
- パフォーマンスボトルネックの特定
- ユーザビリティの改善

## Future Considerations (将来的に必要になったら検討)

- ファジーマッチング（SimHash）
- 高度な検索アルゴリズム（BK-tree）
- 機械学習ベースの検出
- 多言語サポート
- 分散システム対応

**重要**: これらの機能は現時点では実装しません。まずはシンプルなハッシュベースの検出で実用性を確認します。

## メンテナンス方針

### シンプルに保つ
- 複雑な機能は追加しない
- 依存関係は最小限に
- コードは読みやすく保つ

### 必要最小限のメンテナンス
- セキュリティアップデートのみ対応
- 重大なバグのみ修正
- ドキュメントは基本的な使い方のみ

## 成功の定義

### シンプルな指標
- ✅ Code-Smithで実際に使える
- ✅ 誤検出が少ない（同じコードは確実に検出）
- ✅ 高速（100ms以内で応答）
- ✅ メンテナンスが簡単

## タイムライン（シンプル版）

### 2025年1月第3週
- [ ] Code-Smith統合インターフェース作成
- [ ] 不要なコード削除

### 2025年1月第4週  
- [ ] 基本的な統合テスト
- [ ] README更新

### 2025年2月以降
- 実運用でのフィードバック収集
- 必要に応じて微調整

## まとめ

OOPStrackerは、AIエージェントのコード重複を防ぐ**シンプルで実用的な**ツールを目指します。複雑な機能は後回しにして、まずは確実に動作する最小限の実装でCode-Smithプロジェクトに貢献します。

---

*Last updated: 2025年1月*
*Scope: ハッシュベースの検出のみ*